<div class="d-flex flex-column-fluid">
  <!--begin::Container-->
  <div class="container">
    <form (ngSubmit)="onFormSubmit()" #vform="ngForm"
      class="form mt-0 mt-lg-10 fv-plugins-bootstrap fv-plugins-framework">
      <app-progress-spinner [options]="!formInfo.FormSubmitAllow"></app-progress-spinner>
        <div class="form-body">
          <h4 class="form-section mb-8">
            <i class="ft-user"></i>ایجاد اولین سامانه شما
          </h4>
          <div>

            <mat-form-field class="example-full-width">
              <mat-label>عنوان</mat-label>
              <input matInput [(ngModel)]="dataModel.Title" name="dataModel.Title" #Title type="text"
                placeholder="عنوان" minlength="3" maxlength="100" required />
              <mat-icon matSuffix *ngIf="dataModel.Title" matSuffix mat-icon-button aria-label="Clear"
                (click)="dataModel.Title = ''">close</mat-icon>
              <mat-icon matSuffix>mode_edit</mat-icon>
              <mat-hint align="end">{{ Title.value.length }} / 100</mat-hint>
              <mat-error *ngIf="Title.errors?.required">
                Title is <strong>required</strong>
              </mat-error>
            </mat-form-field>

            <mat-form-field class="example-full-width">
              <mat-label>توضیحات</mat-label>
              <textarea matInput [(ngModel)]="dataModel.Description" name="dataModel.Description" #Description
                type="text" placeholder="توضیحات" minlength="1" maxlength="500" required rows=5></textarea>
              <mat-icon matSuffix *ngIf="dataModel.Description" matSuffix mat-icon-button aria-label="Clear"
                (click)="dataModel.Description = ''">close</mat-icon>
              <mat-icon matSuffix>mode_edit</mat-icon>
              <mat-hint align="end">{{ Description.value.length }} / 500</mat-hint>
              <mat-error *ngIf="Description.errors?.required">
                Description is <strong>required</strong>
              </mat-error>
            </mat-form-field>

            <div *ngIf="dataModelResultCategory " class="form-group set-select">
              <label for="webType">نوع وب سایت</label>
              <select [(ngModel)]="dataModel.LinkSiteCategoryId" name="LinkSiteCategoryId" class="form-control"
                id="webType">
                <option *ngFor="let item of dataModelResultCategory.ListItems; index as i;" value="{{item.Id}}"
                  [attr.selected]="i==0 ? 'selected' : null">{{item.Title}}</option>
              </select>
            </div>

            <div class="input-group mb-3 set-select" style="margin: 2px 17px 0 0; padding-left: 34px;">
              <div class="input-group-prepend">
                <button class="btn btn-outline-secondary dropdown-toggle" type="button" data-toggle="dropdown"
                  aria-haspopup="false" aria-expanded="false">{{ dataModel.Domain === undefined ? 'دامنه' :
                  dataModel.Domain }}</button>
                <div class="dropdown-menu">
                  <option (click)="domain(item.Domain)" class="cursor-pointer"
                    *ngFor="let item of dataModelResultDomains.ListItems;let i = index" value="{{item.Domain}}"
                    [attr.selected]="i==0 ? 'selected' : null">{{item.Domain}}</option>
                </div>
              </div>
              <input [(ngModel)]="dataModel.SubDomain" name="subDomain" placeholder="YourSubDomain" type="text"
                class="form-control text-left" aria-label="زیر دامنه  وب سایت " />
              <div class="input-group-prepend">
                <input type="text" class="form-control text-left" style="direction: ltr;" value="https://" readonly />
              </div>
            </div>

            <div class="text-left text-wrap" style="direction: ltr">https://{{dataModel.SubDomain === undefined ? '' :
              dataModel.SubDomain + '.'}}{{ dataModel.Domain === undefined ? '' : dataModel.Domain }}</div>
            <div class="form-group border-top fv-plugins-icon-container set-select">
              <img class="mt-3" src="{{captchaModel.Image}}" (click)="onCaptchaOrder()">
              <input id="img-content" class="form-control h-auto border-0 px-0 placeholder-dark-75" autocomplete="off"
                [(ngModel)]="dataModel.CaptchaText" type="text" name="captchaText" placeholder="محتوای عکس" />
              <div class="fv-plugins-message-container"></div>
            </div>

          </div>
        </div>
        <div class="form-actions">
          <small class="form-text text-muted">{{ formInfo.FormAlert }} </small>
          <small class="form-text text-muted danger">{{ formInfo.FormError }}
          </small>
        </div>
        <div class="form-actions" *ngIf="formInfo.FormSubmitAllow">
          <button type="button" (click)="onFormCancel()" class="btn btn-raised btn-warning mr-1">
            <i class="ft-x"></i> انصراف
          </button>
          <button type="submit" class="btn btn-raised btn-primary" [disabled]="!vform.form.valid">
            <i class="fa fa-check-square-o"></i> ذخیره
          </button>
        </div>
    </form>
  </div>
</div>
